<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>2016-08-12 - cloud.gov.au docs</title>
  

  <!--
    Support custom favicon support.
    http://www.mkdocs.org/user-guide/configuration/#site_favicon
  -->
  
    <link rel="shortcut icon" href="../../../img/favicon.ico">
  

  <!--
    You can include external assets of course, but be aware that it means the
    documentation may not work well offline.
  -->
  <link rel="stylesheet" type="text/css" href="https://gov-au-ui-kit.apps.staging.digital.gov.au/latest/ui-kit.min.css"/>
  <link rel="stylesheet" href="../../../assets/stylesheets/application.css">
  <link rel="stylesheet" href="../../../assets/stylesheets/prism.css">
  <!--
    extra_css contains paths to CSS files in the users
    documentation directory or a list of CSS files defined in
    their mkdocs.yml.

    http://www.mkdocs.org/user-guide/configuration/#extra_css
  -->
  

  <!--
    To include static assets from our theme, just add
    ../../.. beforehand which will be the relative path to
    the root of the documentation.
  -->
  <script type="text/javascript" src="https://gov-au-ui-kit.apps.staging.digital.gov.au/latest/ui-kit.min.js"></script>
  <script src="../../../assets/js/prism.js"></script>
  <!--
    extra_javascript contains paths to JavaScript files in the
    users documentation directory or a list of JavaScript files
    defined in their mkdocs.yml.

    http://www.mkdocs.org/user-guide/configuration/#extra_javascript
  -->
  

  

  
  

</head>

<body>

  <div class="skip-to">
  <a href="#content">Skip to main content</a>
  <a href="#nav">Skip to section navigation</a>
  </div>

  <header role="banner" >
    <div class="govau--header">
      <div class="wrapper">
        <div class="govau--logo">
          <h1 class="logo"><a href="/" class="logo">cloud.gov.au docs</a></h1> <span class="badge--default">beta</span>
        </div>
        
        
        <div class="feedback">
          <a href="https://www.support-url" class="button--feedback" role="button">Support request</a>
        </div>
        
        
      </div>
    </div>

    
    <div class="search-section">
      <div class="wrapper">
        <form action="../../../search.html" method="get">
          <input class="search-input" type="text" name="q" title="Search" placeholder="Search cloud.gov.au docs" />
          <input class="submit" value="Search" type="submit">
        </form>
      </div>
    </div>
    

  </header>

<main role="main">

  <div id="nav" class="sidebar">
    <nav class="local-nav" aria-label="main navigation">
      <h2 class="visuallyhidden">Main navigation</h2>

      <ul>
      
        
<li>
    <a href="../../.." >Home</a>
</li>

      
        
  <li>
    <h3 class="nav-sub-heading">Usage</h3>
    <ul>
        
            
<li>
    <a href="../../../usage/requesting_access/" >Requesting Access</a>
</li>

        
            
<li>
    <a href="../../../usage/setup/" >Setup</a>
</li>

        
            
<li>
    <a href="../../../usage/sending_emails/" >Sending Emails</a>
</li>

        
            
<li>
    <a href="../../../usage/your_first_deploy/" >Your First Deploy</a>
</li>

        
            
<li>
    <a href="../../../usage/orca/" >Getting your app ready for launch</a>
</li>

        
    </ul>
  </li>

      
        
  <li>
    <h3 class="nav-sub-heading">CF-CLI</h3>
    <ul>
        
            
<li>
    <a href="../../../usage/cfcli/" >Intro</a>
</li>

        
            
<li>
    <a href="../../../usage/cfcli/install/" >Install</a>
</li>

        
            
<li>
    <a href="../../../usage/cfcli/login/" >Login</a>
</li>

        
            
<li>
    <a href="../../../usage/cfcli/application_deployment/" >Application Deployment</a>
</li>

        
            
<li>
    <a href="../../../usage/cfcli/application_delete/" >Application Deletion</a>
</li>

        
            
<li>
    <a href="../../../usage/cfcli/log_access/" >Log Access</a>
</li>

        
    </ul>
  </li>

      
        
  <li>
    <h3 class="nav-sub-heading">Support</h3>
    <ul>
        
            
<li>
    <a href="../../incident_response/" >Incident response</a>
</li>

        
    </ul>
  </li>

      
        
  <li>
    <h3 class="nav-sub-heading">Incident reports</h3>
    <ul>
        
            
<li>
    <a href="../" >Intro</a>
</li>

        
            
<li>
    <a href="./" class="is-current is-active">2016-08-12</a>
</li>

        
            
<li>
    <a href="../2016-06-05/" >2016-06-05</a>
</li>

        
            
<li>
    <a href="../2016-02-11/" >2016-02-11</a>
</li>

        
    </ul>
  </li>

      
      </ul>
    </nav>
  </div>

    <article id="content" class="content-main">

      <header>
      
        
          <h1>2016-08-12</h1>
        
      
    </header>
      
      <nav class="index-links">
      <h2>In this section</h2>
        <ul>
        
            <li><a href="#august-12-2016-incident-report">August 12, 2016 incident report</a></li>
            
                <li><a href="#what-we-learnt">What we learnt</a></li>
            
                <li><a href="#contributing-factors">Contributing factors</a></li>
            
                <li><a href="#what-were-doing-differently">What we're doing differently</a></li>
            
                <li><a href="#conclusion">Conclusion</a></li>
            
        
        </ul>
      </nav>
      

      
        <h1 id="august-12-2016-incident-report">August 12, 2016 incident report</h1>
<p>On August 12, 2016 there was approximately 79 minutes of partial availability for dto.gov.au, australia.gov.au, gov.au/alpha, gov.au/marketplace. During this time, approximately a third of visitors to these sites were unable to view them.</p>
<p>The cloud.gov.au team takes the availability of these sites seriously, and we are really sorry for the degraded service. While we rely on our suppliers to provide the infrastructure to deliver services, we own our availability, and we take full responsibility for the degraded service.</p>
<p>This report explains what we’ve learnt about what happened, what factors contributed to the outage, and what we’re doing to prevent similar incidents occurring in the future.</p>
<h2 id="what-we-learnt">What we learnt</h2>
<p>The cloud.gov.au service is made of two components: a Platform as a Service (PaaS) for running applications, and a HTTPS termination layer (httpredir) for exposing these applications to the public internet.</p>
<p>httpredir issues redirects for dto.gov.au and australia.gov.au, serves the www.gov.au, www.gov.au/alpha, and gov.au/marketplace sites, and performs SSL termination on these sites. We do this because we must support older web browsers and operating systems that don’t support more modern methods for serving content.
Because of these constraints, we use a very simplistic form of load balancing called Round Robin DNS to make sure people can access our services in a variety of degraded conditions.</p>
<p>When using Round Robin DNS, a web browser has a choice of different addresses it can connect to when requesting content. The web browser will rotate through these addresses when making requests. This ensures that if a request to one address fails, a user can still get content by manually hitting the refresh button in their browser.</p>
<p>The httpredir service runs in three availability zones in ap-southeast-2 (2a, 2b, and 2c), and is scaled with Auto Scaling Groups.</p>
<p>Sites and services hosted on httpredir were partially unavailable because of a localised network failure in ap-southeast-2c. This caused connections from web browsers to time out when trying to access sites provided by httpredir.</p>
<p>We observed the localised network failure started at approximately 10.16, and was fixed by AWS at approximately 11.35.</p>
<h2 id="contributing-factors">Contributing factors</h2>
<p>After conducting a Post Incident Review, we have determined the following factors contributed to the degraded service:</p>
<ul>
<li>We opted for Round Robin DNS as a load balancing technique over other load balancing techniques because we believed it struck the right balance between user experience and architectural complexity. In the case of this particular failure, user experience lost out.</li>
<li>A routing failure on AWS’s network caused large volumes of connections to the httpredir instance in ap-southeast-2c to time out.</li>
<li>The routing failure only affected instances in ap-southeast-2c that were exposed to the internet with an Elastic IP (EIP). All of our httpredir instances have EIPs assigned.</li>
</ul>
<h2 id="what-were-doing-differently">What we're doing differently</h2>
<p>We see service failure like these as both an excellent opportunity to learn about how complex systems fail, and how we can improve the reliability and quality of service the cloud.gov.au team provides.</p>
<ul>
<li>We will add an early step to our incident response run sheet to decide if we should escalate to suppliers of technology we use. The intention is to reduce the lead time on responses, and help us build context quicker.</li>
<li>We intend to change how we share output from network diagnostic tools like <code>mtr</code> to include the command as well as the output, so everyone working the incident can easily reproduce the steps to troubleshoot.</li>
<li>We intend to disable alerts for some monitoring checks. As we experience more failures, we are learning more about what monitoring checks are useful indicators of whole of service issues that require human intervention, and what are diagnostic checks that help troubleshoot incidents.</li>
<li>We will investigate setting up canaries across multiple locations around the world to constantly collect network performance metrics. This information will help us establish a network performance baseline more quickly during outages.</li>
<li>We will more clearly define in our incident response run sheet when outwards communication should happen, to ensure all service owners receive timely information about degraded services.</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>All of us on the cloud.gov.au team apologise for the impact of this outage. We continue to analyse the events leading up to this incident and the steps we took to restore service. This work will guide us as we improve the systems, tools, and processes that power cloud.gov.au.</p>
<p>If you have any questions, please don't hesitate to contact the cloud.gov.au team at support@cloud.gov.au.</p>
      

      
        <a rel="external" href="https://github.com/AusDTO/mkdocs-gov-au-theme/tree/master/docs/support/incident_reports/2016-08-12.md">Edit this page on GitHub</a>
      
    </article>

  </main>

  <footer role="contentinfo">
    <div class="wrapper">
      <div class="footer-logo">
        <img src="https://raw.githubusercontent.com/AusDTO/mkdocs-gov-au-theme/master/gov_au_theme/assets/images/coat-of-arms.png" alt="Australian Government Coat of Arms">
      </div>
      <div class="footer-links">
        <nav>
          <h2 class="visuallyhidden">Main footer navigation</h2>
          
            <ul>
            
              <li><a rel="external" href="http://status.cloud.gov.au">Status</a></li>
            
            </ul>
          
        </nav>
        <p>&copy; Commonwealth of Australia
      </div>
    </div>
  </footer>

</body>
</html>